(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{491:function(s,t,a){"use strict";a.r(t);var e=a(65),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"git中踩到的坑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git中踩到的坑"}},[s._v("#")]),s._v(" git中踩到的坑")]),s._v(" "),a("h2",{attrs:{id:"项目克隆"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目克隆"}},[s._v("#")]),s._v(" 项目克隆")]),s._v(" "),a("h3",{attrs:{id:"克隆大体积项目时克隆很久最后还是失败"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#克隆大体积项目时克隆很久最后还是失败"}},[s._v("#")]),s._v(" 克隆大体积项目时克隆很久最后还是失败")]),s._v(" "),a("blockquote",[a("p",[s._v("解决办法：")])]),s._v(" "),a("ol",[a("li",[s._v("只克隆最近一次commit记录的仓库：")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解决避免提交记录太多且仓库又大导致一直克隆不下来的问题")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone 仓库地址  --depth "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("blockquote",[a("p",[s._v("需要全部记录的话，等克隆下来再下载全部记录：")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方式一：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" fetch --unshallow\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方式二：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote set-branches origin "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" fetch -v\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("修改git配置项：")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global pack.windowMemory "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"100m"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global pack.SizeLimit "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"100m"')]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global pack.threads "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global pack.window "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("blockquote",[a("p",[s._v("参考："),a("a",{attrs:{href:"https://www.jianshu.com/p/9f8352f44bd2",target:"_blank",rel:"noopener noreferrer"}},[s._v("Git 克隆大型仓库失败解决方法"),a("OutboundLink")],1)])]),s._v(" "),a("h3",{attrs:{id:"克隆仓库失败-error-rpc-failed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#克隆仓库失败-error-rpc-failed"}},[s._v("#")]),s._v(" 克隆仓库失败 - error: RPC failed;")]),s._v(" "),a("p",[s._v("报错提示：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("error: RPC failed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),s._v(" OpenSSL SSL_read: Connection was reset, errno "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10054")]),s._v("\nfatal: early EOF\nfatal: the remote end hung up unexpectedly\nfatal: index-pack failed\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("解决办法：")]),s._v(" "),a("ol",[a("li",[s._v("尝试输入:")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config http.sslVerify "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"false"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("如果报错了的话："),a("code",[s._v("fatal: not in a git directory")])])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" init\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config http.sslVerify "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"false"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("如果还是报错了的话："),a("code",[s._v("error: RPC failed; curl 18 transfer closed with outstanding read data remaining")])])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# curl的postBuffer的默认缓存值太小")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改配置信息增加到500m")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global http.postBuffer "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("524288000")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"分支管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分支管理"}},[s._v("#")]),s._v(" 分支管理")]),s._v(" "),a("h3",{attrs:{id:"分支切换失败"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分支切换失败"}},[s._v("#")]),s._v(" 分支切换失败")]),s._v(" "),a("p",[s._v("有时候我们明明先"),a("code",[s._v("git pull")]),s._v("拉取了远程分支，但还是无法切换：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" switch "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1680")]),s._v("\nfatal: Cannot switch branch to a non-commit "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1680'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("这个时候我们需要手动创建一个本地分支并将其与远程分支进行关联，这里我提供两种命令：")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("git checkout -b xxx分支 origin:服务器分支名xxx")])]),s._v(" "),a("li",[a("code",[s._v("git switch -t origin/服务器分支名")]),s._v("：")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" switch -t origin/1680\nSwitched to a new branch "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1680'")]),s._v("\nBranch "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1680'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" up to track remote branch "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1680'")]),s._v(" from \n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'origin'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"分支切换"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分支切换"}},[s._v("#")]),s._v(" 分支切换")]),s._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://www.cnblogs.com/yhjoker/p/11776240.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("保留/丢弃当前分支修改并切换至其他分支"),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://www.pianshen.com/article/7416612965/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Git在不提交当前更改的情况下切换到其它分支"),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://www.cnblogs.com/yongdaimi/p/7600052.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("分支操作"),a("OutboundLink")],1)])])]),s._v(" "),a("p",[s._v("步骤：")]),s._v(" "),a("ol",[a("li",[s._v("先拉去远程仓库信息到本地："),a("code",[s._v("git pull")])]),s._v(" "),a("li",[s._v("显示所有分支："),a("code",[s._v("git branch -a")])])]),s._v(" "),a("ul",[a("li",[s._v("如果想只显示远程分支则："),a("code",[s._v("git branch -r")])])]),s._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[s._v("切换分支："),a("code",[s._v("git checkout 17-")]),a("img",{attrs:{src:"https://i.loli.net/2020/08/27/fK9sNhSY3yQ8ivW.png",alt:"image.png"}})]),s._v(" "),a("li",[s._v("在分支做完并推送后记得切回主分支："),a("code",[s._v("git checkout master")])])]),s._v(" "),a("h2",{attrs:{id:"项目推送"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目推送"}},[s._v("#")]),s._v(" 项目推送")]),s._v(" "),a("h3",{attrs:{id:"git-push时被拒绝"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-push时被拒绝"}},[s._v("#")]),s._v(" "),a("code",[s._v("git push")]),s._v("时被拒绝")]),s._v(" "),a("p",[s._v("场景：将本地一个目录代码推送到远程仓库，我于是在码云上新建一个仓库，然后在本地按"),a("RouterLink",{attrs:{to:"/guide/git.html#指令与基础"}},[s._v("以前的文章")]),s._v("进行仓库关联，结果在最后一步"),a("code",[s._v("git push")]),s._v("上出现了问题：")],1),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("error: failed to push some refs to "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'gitee.com:huanshenga/ng-img-lazyload.git'")]),s._v("\nhint: Updates were rejected because the remote contains work that you "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\nhint: not have locally. This is usually caused by another repository pushing\nhint: to the same ref. You may want to first integrate the remote changes\nhint: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e.g., "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'git pull ...'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" before pushing again.\nhint: See the "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Note about fast-forwards'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'git push --help'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" details.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("解决方案：\n出现错误的主要原因是："),a("code",[s._v("github中的README.md文件不在本地代码目录中")])]),s._v(" "),a("ol",[a("li",[s._v("通过如下命令进行代码合并")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" pull --rebase origin master\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("再执行语句 "),a("code",[s._v("git push -u origin master")]),s._v("即可完成代码上传到"),a("code",[s._v("github")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);