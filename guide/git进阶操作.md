# `git`进阶操作
## 基础命令回顾
1. `git log`：`commit`提交历史
2. `git status`：查看当前文件是否有没提交的
## 修改上次`commit`信息
场景：
> 我们在某次`git commit -m '提交信息'`里说明信息单词拼写错误想修改这次描述信息时

步骤：
1. 敲击命令：
```bash
# 用来修改前一次提交的 commit message
git commit --amend 
```

2. 此时终端会使用`vi`编辑器让我们可在它上面对上次提交信息进行编辑

## 将之前提交操作进行合并或者修改
场景：
> 我们对一个简单`bug`修改`commit`了多次后不想让别人看见这奇葩操作，想将之前的多次操作合并成一次

步骤：
1. 敲击命令：
```bash
# 交互式的进行之前多次提交的修改
# 这里指编辑前两次操作：可合并/修改/删除这两次操作及其相关信息
git rebase -i HEAD~2
```
2. 终端修改，按下`i`进入插入模式，可以插入字母，按`x`可删除一个字，按`Esc`可退出当前模式，如果想要退出`vi`编辑界面，需要按`:q`即可（还有，如果想删除后面的可以按`100dd`代表删除后面100行数据，`u`撤销）![](https://pic.downk.cc/item/5f87dc521cd1bbb86bda4b8b.jpg)![](https://pic.downk.cc/item/5f881bb21cd1bbb86b06879f.jpg)
## 指针回退上一次提交
场景：
>

步骤：
1. 敲击命令：
```bash
git reset HEAD~1
```
2. 此时，指针指向上一次，因此，`git log`会显示为最近一次的提交之前的历史，最新一次提交历史被隐藏（即取消最新一次的提交）
3. 注意：`git status`你会发现：本地文件还是最新提交时的文件，仅仅是`git`的`working tree`回溯到了上一次（即 取消`git`历史里的最新提交，但本地文件依旧是最新提交时文件;因此我们如果反悔可重新提交）
4. `git reset HEAD~1 --hard`：可实现将本地文件也回溯删除掉
5. 回溯后如果知道之前的最新版本编号，可通过`git reset xxxx版本编号`重新指回来